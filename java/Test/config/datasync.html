<html>
        <head>
                <script type="text/javascript">		
                        $(function(){			
                                        var data = '12345ruijie54321'			
                                        var obj = $.parseJSON(data);			
                                        $('.config_container:last').append(template.render('pane', obj));
                                        })
</script>
</head>
<body>
        <div class="config_container"></div>

        <script id="pane" type="text/x-jquery-tmpl">
                [[each]]
                <form>
                        <table class="config_item" style="width:100%; border-top:1px solid #ccc;">
                                <input type='hidden' name='type' value="[[ $value.type ]]"/>
                                <input type='hidden' name='mode' value="[[ $value.mode ]]"/>
                                <input type='hidden' name='alias' value="[[ $value.alias ]]"/>
                                <input type='hidden' name='name' value="[[ $value.name ]]"/>

                                <td width="160px">
                                        插件名称：
                                        [[ $value.name ]]
                                </td>

                                <td class="config_table_container">
                                        [[ if $value.template ]]
                                        [[ include($value.template, $value.config) ]]
                                        [[ else ]]
                                        [[ include("config_table_tpl", $value.config) ]]
                                        [[ /if ]]
                                </td>
                                <td width="100px" class="text-center operation">
                                        <button  class="datasync_update">保存配置</button>
                                        <button  class="datasync_add">新增插件</button>
                                        <button  class="datasync_test">测试</button>
                                        <button  class="datasync_reset">重置</button>
                                        <button  class="datasync_delete">删除</button>
                                </td>

                        </table>
                </form>
                [[/each]]
        </script>

        <script id="config_table_tpl" type="text/x-jquery-tmpl">
                <table class="table table-bordered table-hover" style="margin-top:20px;max-height:600px;overflow:auto">
                        [[each]]
                        <tr>
                                <td width="160px" class="text-right"><em>*</em>[[ $value.label ]]</td>
                                <td>
                                        [[if typeof($value.component)!='undefined' && $value.component=='file']]
                                        <input type="file" id=[[ $value.key ]]  name2=[[ $value.key ]] name="ufile">
                                        [[else if typeof($value.component)!='undefined' && $value.component=='select']]
                                        <select id="[[$value.key]]"  name="Config[ [[ $value.key ]] ]">
                                                [[each $value.attr as $v]]									
                                                         <option [[if $value.value == $v.key]]selected[[/if]] value="[[$v.key]]">[[$v.label]]</option> 
                                                [[/each]]
                                        </select>							
                                        [[else]]
                                        <input type="[[$value.component]]" id="[[$value.key]]"  name="Config[ [[$value.key]] ]" value="[[ $value.value ]]" >
                                        [[/if]]
                                </td>
                        </tr>
                        [[/each]]
                </table>
        </script>
</body>

</html>
